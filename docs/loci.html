

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>loci package &mdash; loci 0.1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> loci
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">loci package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-loci.analytics">loci.analytics module</a></li>
<li><a class="reference internal" href="#module-loci.clustering">loci.clustering module</a></li>
<li><a class="reference internal" href="#module-loci.topics">loci.topics module</a></li>
<li><a class="reference internal" href="#module-loci.index">loci.index module</a></li>
<li><a class="reference internal" href="#module-loci.io">loci.io module</a></li>
<li><a class="reference internal" href="#module-loci.plots">loci.plots module</a></li>
<li><a class="reference internal" href="#module-loci">Module contents</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">loci</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>loci package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/loci.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="loci-package">
<h1>loci package<a class="headerlink" href="#loci-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-loci.analytics">
<span id="loci-analytics-module"></span><h2>loci.analytics module<a class="headerlink" href="#module-loci.analytics" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="loci.analytics.bbox">
<code class="sig-prename descclassname">loci.analytics.</code><code class="sig-name descname">bbox</code><span class="sig-paren">(</span><em class="sig-param">gdf</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/loci/analytics.html#bbox"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#loci.analytics.bbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the bounding box of a GeoDataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>gdf</strong> (<em>GeoDataFrame</em>) – A GeoDataFrame.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A Polygon representing the bounding box enclosing all geometries in the GeoDataFrame.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="loci.analytics.filter_by_kwd">
<code class="sig-prename descclassname">loci.analytics.</code><code class="sig-name descname">filter_by_kwd</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">kwd_filter</em>, <em class="sig-param">col_kwds='kwds'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/loci/analytics.html#filter_by_kwd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#loci.analytics.filter_by_kwd" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a DataFrame with only those rows that contain the specified keyword.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>DataFrame</em>) – The initial DataFrame to be filtered.</p></li>
<li><p><strong>kwd_filter</strong> (<em>string</em>) – The keyword to use for filtering.</p></li>
<li><p><strong>col_kwds</strong> (<em>string</em>) – Name of the column containing the keywords (default: <cite>kwds</cite>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A GeoDataFrame with only those rows that contain <cite>kwd_filter</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="loci.analytics.freq_locationsets">
<code class="sig-prename descclassname">loci.analytics.</code><code class="sig-name descname">freq_locationsets</code><span class="sig-paren">(</span><em class="sig-param">location_visits</em>, <em class="sig-param">location_id_col</em>, <em class="sig-param">locations</em>, <em class="sig-param">locationset_id_col</em>, <em class="sig-param">min_sup</em>, <em class="sig-param">min_length</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/loci/analytics.html#freq_locationsets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#loci.analytics.freq_locationsets" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes frequently visited sets of locations based on frequent itemset mining.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>location_visits</strong> (<em>DataFrame</em>) – A DataFrame with location ids and locationset ids.</p></li>
<li><p><strong>location_id_col</strong> (<em>String</em>) – The name of the column containing the location ids.</p></li>
<li><p><strong>locationset_id_col</strong> (<em>String</em>) – The name of the column containing the locationsets ids.</p></li>
<li><p><strong>locations</strong> (<em>GeoDataFrame</em>) – A GeoDataFrame containing the geometries of the locations.</p></li>
<li><p><strong>min_sup</strong> (<em>float</em>) – The minimum support threshold.</p></li>
<li><p><strong>min_length</strong> (<em>int</em>) – Minimum length of itemsets to be returned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A GeoDataFrame with the support, length and geometry of the computed location sets.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="loci.analytics.kwds_freq">
<code class="sig-prename descclassname">loci.analytics.</code><code class="sig-name descname">kwds_freq</code><span class="sig-paren">(</span><em class="sig-param">gdf</em>, <em class="sig-param">col_kwds='kwds'</em>, <em class="sig-param">normalized=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/loci/analytics.html#kwds_freq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#loci.analytics.kwds_freq" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the frequency of keywords in the provided GeoDataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gdf</strong> (<em>GeoDataFrame</em>) – A GeoDataFrame with a keywords column.</p></li>
<li><p><strong>col_kwds</strong> (<em>string</em>) – The column containing the list of keywords (default: <cite>kwds</cite>).</p></li>
<li><p><strong>normalized</strong> (<em>bool</em>) – If True, the returned frequencies are normalized in [0,1]
by dividing with the number of rows in <cite>gdf</cite> (default: False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary containing for each keyword the number of rows it appears in.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-loci.clustering">
<span id="loci-clustering-module"></span><h2>loci.clustering module<a class="headerlink" href="#module-loci.clustering" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="loci.clustering.cluster_shapes">
<code class="sig-prename descclassname">loci.clustering.</code><code class="sig-name descname">cluster_shapes</code><span class="sig-paren">(</span><em class="sig-param">pois</em>, <em class="sig-param">shape_type=1</em>, <em class="sig-param">eps_per_cluster=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/loci/clustering.html#cluster_shapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#loci.clustering.cluster_shapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes cluster shapes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pois</strong> (<em>GeoDataFrame</em>) – The clustered POIs.</p></li>
<li><p><strong>shape_type</strong> (<em>integer</em>) – The methods to use for computing cluster shapes (allowed values: 1-3).</p></li>
<li><p><strong>eps_per_cluster</strong> (<em>DataFrame</em>) – The value of parameter eps used for each cluster (required by methods 2 and 3).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A GeoDataFrame containing the cluster shapes.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="loci.clustering.compute_clusters">
<code class="sig-prename descclassname">loci.clustering.</code><code class="sig-name descname">compute_clusters</code><span class="sig-paren">(</span><em class="sig-param">pois</em>, <em class="sig-param">alg='dbscan'</em>, <em class="sig-param">min_pts=None</em>, <em class="sig-param">eps=None</em>, <em class="sig-param">n_jobs=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/loci/clustering.html#compute_clusters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#loci.clustering.compute_clusters" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes clusters using the DBSCAN or the HDBSCAN algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pois</strong> (<em>GeoDataFrame</em>) – A POI GeoDataFrame.</p></li>
<li><p><strong>alg</strong> (<em>string</em>) – The clustering algorithm to use (dbscan or hdbscan; default: dbscan).</p></li>
<li><p><strong>min_pts</strong> (<em>integer</em>) – The minimum number of neighbors for a dense point.</p></li>
<li><p><strong>eps</strong> (<em>float</em>) – The neighborhood radius.</p></li>
<li><p><strong>n_jobs</strong> (<em>integer</em>) – Number of parallel jobs to run in the algorithm (default: 1)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A GeoDataFrame containing the clustered POIs and their labels. The value of parameter <cite>eps</cite> for each cluster
is also returned (which varies in the case of HDBSCAN).</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-loci.topics">
<span id="loci-topics-module"></span><h2>loci.topics module<a class="headerlink" href="#module-loci.topics" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="loci.topics.topic_modeling">
<code class="sig-prename descclassname">loci.topics.</code><code class="sig-name descname">topic_modeling</code><span class="sig-paren">(</span><em class="sig-param">clusters</em>, <em class="sig-param">label_col='cluster_id'</em>, <em class="sig-param">kwds_col='kwds'</em>, <em class="sig-param">num_of_topics=3</em>, <em class="sig-param">kwds_per_topic=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/loci/topics.html#topic_modeling"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#loci.topics.topic_modeling" title="Permalink to this definition">¶</a></dt>
<dd><p>Models clusters as documents, extracts topics, and assigns topics to clusters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>clusters</strong> (<em>GeoDataFrame</em>) – A POI GeoDataFrame with assigned cluster labels.</p></li>
<li><p><strong>label_col</strong> (<em>string</em>) – The name of the column containing the cluster labels (default: label).</p></li>
<li><p><strong>kwds_col</strong> (<em>string</em>) – The name of the column containing the keywords of each POI (default: kwds).</p></li>
<li><p><strong>num_of_topics</strong> (<em>int</em>) – The number of topics to extract (default: 3).</p></li>
<li><p><strong>kwds_per_topic</strong> (<em>int</em>) – The number of keywords to return per topic (default: 10).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame containing the clusters-to-topics assignments and a DataFrame containing the topics-to-keywords
assignments.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-loci.index">
<span id="loci-index-module"></span><h2>loci.index module<a class="headerlink" href="#module-loci.index" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="loci.index.grid">
<code class="sig-prename descclassname">loci.index.</code><code class="sig-name descname">grid</code><span class="sig-paren">(</span><em class="sig-param">pois</em>, <em class="sig-param">cell_width=None</em>, <em class="sig-param">cell_height=None</em>, <em class="sig-param">cell_size_ratio=0.01</em>, <em class="sig-param">znorm=False</em>, <em class="sig-param">neighborhood=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/loci/index.html#grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#loci.index.grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a uniform grid from the given POIs.</p>
<p>If <cite>cell_width</cite> and <cite>cell_height</cite> are provided, each grid cell has size <cite>cell_width * cell_height</cite>.
Otherwise, <cite>cell_width = cell_size_ratio * area_width</cite> and <cite>cell_height = cell_size_ratio * area_height</cite>,
where <cite>area</cite> refers to the bounding box of <cite>pois</cite>.</p>
<p>Each cell is assigned a <cite>score</cite>, which is the number of points within that cell.</p>
<p>If <cite>neighborhood</cite> is <cite>True</cite>, each cell is assigned an additional score (<cite>score_nb</cite>), which is the total number of
points within that cell and its adjacent cells.</p>
<p>If <cite>znorm</cite> is True, the above scores are also provided in their z-normalized variants, <cite>score_znorm</cite> and
<cite>score_nb_znorm</cite>.</p>
<p>The constructed grid is represented by a GeoDataFrame where each row corresponds to a grid cell
and contains the following columns:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>cell_id</cite>: The id of the cell (integer computed as: <cite>cell_x * num_columns + cell_y</cite>)</p></li>
<li><p><cite>cell_x</cite>: The row of the cell in the grid (integer).</p></li>
<li><p><cite>cell_y</cite>: The column of the cell in the grid (integer).</p></li>
<li><p><cite>score</cite>: see above</p></li>
<li><p><cite>score_nb</cite>: see above</p></li>
<li><p><cite>score_znorm</cite>: see above</p></li>
<li><p><cite>score_nb_znorm</cite>: see above</p></li>
<li><p>‘contents’: list of points in the cell.</p></li>
<li><p>‘geometry’: Geometry column of the GeoDataFrame that contains the polygon representing the cell boundaries.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pois</strong> (<em>GeoDataFrame</em>) – a POIs GeoDataFrame.</p></li>
<li><p><strong>cell_width</strong> (<em>float</em>) – cell width.</p></li>
<li><p><strong>cell_height</strong> (<em>float</em>) – cell height.</p></li>
<li><p><strong>cell_size_ratio</strong> (<em>float</em>) – ratio of cell width and height to area width and height (default: 0.01).</p></li>
<li><p><strong>znorm</strong> (<em>bool</em>) – Whether to include z-normalized scores (default: False).</p></li>
<li><p><strong>neighborhood</strong> (<em>bool</em>) – Whether to include a total score including adjacent cells (default: False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A GeoDataFrame as described above.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-loci.io">
<span id="loci-io-module"></span><h2>loci.io module<a class="headerlink" href="#module-loci.io" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="loci.io.import_osmnx">
<code class="sig-prename descclassname">loci.io.</code><code class="sig-name descname">import_osmnx</code><span class="sig-paren">(</span><em class="sig-param">bound</em>, <em class="sig-param">target_crs='EPSG:4326'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/loci/io.html#import_osmnx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#loci.io.import_osmnx" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a POI GeoDataFrame from POIs retrieved by OSMNX (<a class="reference external" href="https://github.com/gboeing/osmnx">https://github.com/gboeing/osmnx</a>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bound</strong> (<em>polygon</em>) – A polygon to be used as filter.</p></li>
<li><p><strong>target_crs</strong> (<em>string</em>) – Coordinate Reference System of the GeoDataFrame to be created (default: <cite>EPSG:4326</cite>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A POI GeoDataFrame with columns <cite>id</cite>, <cite>name</cite> and <cite>kwds</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="loci.io.import_osmwrangle">
<code class="sig-prename descclassname">loci.io.</code><code class="sig-name descname">import_osmwrangle</code><span class="sig-paren">(</span><em class="sig-param">osmwrangle_file</em>, <em class="sig-param">target_crs='EPSG:4326'</em>, <em class="sig-param">bound=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/loci/io.html#import_osmwrangle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#loci.io.import_osmwrangle" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a POI GeoDataFrame from a file produced by OSMWrangle (<a class="reference external" href="https://github.com/SLIPO-EU/OSMWrangle">https://github.com/SLIPO-EU/OSMWrangle</a>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osmwrangle_file</strong> (<em>string</em>) – Path or URL to the input csv file.</p></li>
<li><p><strong>target_crs</strong> (<em>string</em>) – Coordinate Reference System of the GeoDataFrame to be created (default: <cite>EPSG:4326</cite>).</p></li>
<li><p><strong>bound</strong> (<em>polygon</em>) – A polygon to be used as filter.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A POI GeoDataFrame with columns <cite>id</cite>, <cite>name</cite> and <cite>kwds</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="loci.io.read_poi_csv">
<code class="sig-prename descclassname">loci.io.</code><code class="sig-name descname">read_poi_csv</code><span class="sig-paren">(</span><em class="sig-param">input_file</em>, <em class="sig-param">col_id='id'</em>, <em class="sig-param">col_name='name'</em>, <em class="sig-param">col_lon='lon'</em>, <em class="sig-param">col_lat='lat'</em>, <em class="sig-param">col_kwds='kwds'</em>, <em class="sig-param">col_sep=';'</em>, <em class="sig-param">kwds_sep='</em>, <em class="sig-param">'</em>, <em class="sig-param">source_crs='EPSG:4326'</em>, <em class="sig-param">target_crs='EPSG:4326'</em>, <em class="sig-param">keep_other_cols=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/loci/io.html#read_poi_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#loci.io.read_poi_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a POI GeoDataFrame from an input CSV file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_file</strong> (<em>string</em>) – Path to the input csv file.</p></li>
<li><p><strong>col_id</strong> (<em>string</em>) – Name of the column containing the POI id (default: <cite>id</cite>).</p></li>
<li><p><strong>col_name</strong> (<em>string</em>) – Name of the column containing the POI name (default: <cite>name</cite>).</p></li>
<li><p><strong>col_lon</strong> (<em>string</em>) – Name of the column containing the POI longitude (default: <cite>lon</cite>).</p></li>
<li><p><strong>col_lat</strong> (<em>string</em>) – Name of the column containing the POI latitude (default: <cite>lat</cite>).</p></li>
<li><p><strong>col_kwds</strong> (<em>string</em>) – Name of the column containing the POI keywords (default: <cite>kwds</cite>).</p></li>
<li><p><strong>col_sep</strong> (<em>string</em>) – Column delimiter (default: <cite>;</cite>).</p></li>
<li><p><strong>kwds_sep</strong> (<em>string</em>) – Keywords delimiter (default: <cite>,</cite>).</p></li>
<li><p><strong>source_crs</strong> (<em>string</em>) – Coordinate Reference System of input data (default: <cite>EPSG:4326</cite>).</p></li>
<li><p><strong>target_crs</strong> (<em>string</em>) – Coordinate Reference System of the GeoDataFrame to be created (default: <cite>EPSG:4326</cite>).</p></li>
<li><p><strong>keep_other_cols</strong> (<em>bool</em>) – Whether to keep the rest of the columns in the csv file (default: <cite>False</cite>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A POI GeoDataFrame with columns <cite>id</cite>, <cite>name</cite> and <cite>kwds</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="loci.io.retrieve_osm_loc">
<code class="sig-prename descclassname">loci.io.</code><code class="sig-name descname">retrieve_osm_loc</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">buffer_dist=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/loci/io.html#retrieve_osm_loc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#loci.io.retrieve_osm_loc" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a polygon from an OSM location.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>string</em>) – Name of the location to be resolved.</p></li>
<li><p><strong>buffer_dist</strong> (<em>numeric</em>) – Buffer distance in meters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A polygon.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="loci.io.to_geojson">
<code class="sig-prename descclassname">loci.io.</code><code class="sig-name descname">to_geojson</code><span class="sig-paren">(</span><em class="sig-param">gdf</em>, <em class="sig-param">output_file</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/loci/io.html#to_geojson"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#loci.io.to_geojson" title="Permalink to this definition">¶</a></dt>
<dd><p>Exports a GeoDataFrame to a GeoJSON file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gdf</strong> (<em>GeoDataFrame</em>) – The GeoDataFrame object to be exported.</p></li>
<li><p><strong>output_file</strong> (<em>string</em>) – Path to the output file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-loci.plots">
<span id="loci-plots-module"></span><h2>loci.plots module<a class="headerlink" href="#module-loci.plots" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="loci.plots.barchart">
<code class="sig-prename descclassname">loci.plots.</code><code class="sig-name descname">barchart</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">orientation='Vertical'</em>, <em class="sig-param">x_axis_label=''</em>, <em class="sig-param">y_axis_label=''</em>, <em class="sig-param">plot_title=''</em>, <em class="sig-param">bar_width=0.5</em>, <em class="sig-param">plot_width=15</em>, <em class="sig-param">plot_height=5</em>, <em class="sig-param">top_k=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/loci/plots.html#barchart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#loci.plots.barchart" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots a bar chart with the given data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>dict</em>) – The data to plot.</p></li>
<li><p><strong>orientation</strong> (<em>string</em>) – The orientation of the bars in the plot (<cite>Vertical</cite> or <cite>Horizontal</cite>; default: <cite>Vertical</cite>).</p></li>
<li><p><strong>x_axis_label</strong> (<em>string</em>) – Label of x axis.</p></li>
<li><p><strong>y_axis_label</strong> (<em>string</em>) – Label of y axis.</p></li>
<li><p><strong>plot_title</strong> (<em>string</em>) – Title of the plot.</p></li>
<li><p><strong>bar_width</strong> (<em>scalar</em>) – The width of the bars (default: 0.5).</p></li>
<li><p><strong>plot_width</strong> (<em>scalar</em>) – The width of the plot (default: 15).</p></li>
<li><p><strong>plot_height</strong> (<em>scalar</em>) – The height of the plot (default: 5).</p></li>
<li><p><strong>top_k</strong> (<em>integer</em>) – Top k results (if -1, show all; default: 10).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A Matplotlib plot displaying the bar chart.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="loci.plots.heatmap">
<code class="sig-prename descclassname">loci.plots.</code><code class="sig-name descname">heatmap</code><span class="sig-paren">(</span><em class="sig-param">pois</em>, <em class="sig-param">tiles='OpenStreetMap'</em>, <em class="sig-param">width='100%'</em>, <em class="sig-param">height='100%'</em>, <em class="sig-param">radius=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/loci/plots.html#heatmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#loci.plots.heatmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a heatmap of the input POIs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pois</strong> (<em>GeoDataFrame</em>) – A POIs GeoDataFrame.</p></li>
<li><p><strong>tiles</strong> (<em>string</em>) – The tiles to use for the map (default: <cite>OpenStreetMap</cite>).</p></li>
<li><p><strong>width</strong> (<em>integer</em><em> or </em><em>percentage</em>) – Width of the map in pixels or percentage (default: 100%).</p></li>
<li><p><strong>height</strong> (<em>integer</em><em> or </em><em>percentage</em>) – Height of the map in pixels or percentage (default: 100%).</p></li>
<li><p><strong>radius</strong> (<em>float</em>) – Radius of each point of the heatmap (default: 10).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A Folium Map object displaying the heatmap generated from the POIs.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="loci.plots.map_choropleth">
<code class="sig-prename descclassname">loci.plots.</code><code class="sig-name descname">map_choropleth</code><span class="sig-paren">(</span><em class="sig-param">areas</em>, <em class="sig-param">id_field</em>, <em class="sig-param">value_field</em>, <em class="sig-param">fill_color='YlOrRd'</em>, <em class="sig-param">fill_opacity=0.6</em>, <em class="sig-param">num_bins=5</em>, <em class="sig-param">tiles='OpenStreetMap'</em>, <em class="sig-param">width='100%'</em>, <em class="sig-param">height='100%'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/loci/plots.html#map_choropleth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#loci.plots.map_choropleth" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a Folium Map showing the clusters. Map center and zoom level are set automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>areas</strong> (<em>GeoDataFrame</em>) – A GeoDataFrame containing the areas to be displayed.</p></li>
<li><p><strong>id_field</strong> (<em>string</em>) – The name of the column to use as id.</p></li>
<li><p><strong>value_field</strong> (<em>string</em>) – The name of the column indicating the area’s value.</p></li>
<li><p><strong>fill_color</strong> (<em>string</em>) – A string indicating a Matplotlib colormap (default: YlOrRd).</p></li>
<li><p><strong>fill_opacity</strong> (<em>float</em>) – Opacity level (default: 0.6).</p></li>
<li><p><strong>num_bins</strong> (<em>int</em>) – The number of bins for the threshold scale (default: 5).</p></li>
<li><p><strong>tiles</strong> (<em>string</em>) – The tiles to use for the map (default: <cite>OpenStreetMap</cite>).</p></li>
<li><p><strong>width</strong> (<em>integer</em><em> or </em><em>percentage</em>) – Width of the map in pixels or percentage (default: 100%).</p></li>
<li><p><strong>height</strong> (<em>integer</em><em> or </em><em>percentage</em>) – Height of the map in pixels or percentage (default: 100%).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A Folium Map object displaying the given clusters.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="loci.plots.map_cluster_contents_osm">
<code class="sig-prename descclassname">loci.plots.</code><code class="sig-name descname">map_cluster_contents_osm</code><span class="sig-paren">(</span><em class="sig-param">cluster_borders</em>, <em class="sig-param">tiles='OpenStreetMap'</em>, <em class="sig-param">width='100%'</em>, <em class="sig-param">height='100%'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/loci/plots.html#map_cluster_contents_osm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#loci.plots.map_cluster_contents_osm" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a Folium Map displaying the streets and buildings, retreived from OpenStreetMap via OSMNX, within
a given AOI.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster_borders</strong> (<em>GeoDataFrame</em>) – The cluster polygons.</p></li>
<li><p><strong>tiles</strong> (<em>string</em>) – The tiles to use for the map (default: <cite>OpenStreetMap</cite>).</p></li>
<li><p><strong>width</strong> (<em>integer</em><em> or </em><em>percentage</em>) – Width of the map in pixels or percentage (default: 100%).</p></li>
<li><p><strong>height</strong> (<em>integer</em><em> or </em><em>percentage</em>) – Height of the map in pixels or percentage (default: 100%).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A Folium Map object displaying the retreived entities.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="loci.plots.map_cluster_diff">
<code class="sig-prename descclassname">loci.plots.</code><code class="sig-name descname">map_cluster_diff</code><span class="sig-paren">(</span><em class="sig-param">clusters_a</em>, <em class="sig-param">clusters_b</em>, <em class="sig-param">intersection_color='#00ff00'</em>, <em class="sig-param">diff_ab_color='#0000ff'</em>, <em class="sig-param">diff_ba_color='#ff0000'</em>, <em class="sig-param">tiles='OpenStreetMap'</em>, <em class="sig-param">width='100%'</em>, <em class="sig-param">height='100%'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/loci/plots.html#map_cluster_diff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#loci.plots.map_cluster_diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a Folium Map displaying the differences between two sets of clusters. Map center and zoom level
are set automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>clusters_a</strong> (<em>GeoDataFrame</em>) – The first set of clusters.</p></li>
<li><p><strong>clusters_b</strong> (<em>GeoDataFrame</em>) – The second set of clusters.</p></li>
<li><p><strong>intersection_color</strong> (<em>color code</em>) – The color to use for A &amp; B.</p></li>
<li><p><strong>diff_ab_color</strong> (<em>color code</em>) – The color to use for A - B.</p></li>
<li><p><strong>diff_ba_color</strong> (<em>color code</em>) – The color to use for B - A.</p></li>
<li><p><strong>tiles</strong> (<em>string</em>) – The tiles to use for the map (default: <cite>OpenStreetMap</cite>).</p></li>
<li><p><strong>width</strong> (<em>integer</em><em> or </em><em>percentage</em>) – Width of the map in pixels or percentage (default: 100%).</p></li>
<li><p><strong>height</strong> (<em>integer</em><em> or </em><em>percentage</em>) – Height of the map in pixels or percentage (default: 100%).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A Folium Map object displaying cluster intersections and differences.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="loci.plots.map_clusters_with_topics">
<code class="sig-prename descclassname">loci.plots.</code><code class="sig-name descname">map_clusters_with_topics</code><span class="sig-paren">(</span><em class="sig-param">clusters_topics</em>, <em class="sig-param">viz_type='dominant'</em>, <em class="sig-param">col_id='cluster_id'</em>, <em class="sig-param">col_dominant='Dominant Topic'</em>, <em class="sig-param">colormap='tab10'</em>, <em class="sig-param">red='Topic0'</em>, <em class="sig-param">green='Topic1'</em>, <em class="sig-param">blue='Topic2'</em>, <em class="sig-param">single_topic='Topic0'</em>, <em class="sig-param">tiles='OpenStreetMap'</em>, <em class="sig-param">width='100%'</em>, <em class="sig-param">height='100%'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/loci/plots.html#map_clusters_with_topics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#loci.plots.map_clusters_with_topics" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a Folium Map showing the clusters colored based on their topics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>clusters_topics</strong> (<em>GeoDataFrame</em>) – A GeoDataFrame containing the clusters to be displayed and their topics.</p></li>
<li><p><strong>viz_type</strong> (<em>string</em>) – Indicates how to assign colors based on topics. One of: ‘dominant’, ‘single’, ‘rgb’.</p></li>
<li><p><strong>col_id</strong> (<em>string</em>) – The name of the column indicating the cluster id (default: cluster_id).</p></li>
<li><p><strong>col_dominant</strong> (<em>string</em>) – The name of the column indicating the dominant topic (default: Dominant Topic).</p></li>
<li><p><strong>colormap</strong> (<em>string</em>) – A string indicating a Matplotlib colormap (default: tab10).</p></li>
<li><p><strong>red</strong> (<em>string</em>) – The name of the column indicating the topic to assign to red (default: Topic0).</p></li>
<li><p><strong>green</strong> (<em>string</em>) – The name of the column indicating the topic to assign to green (default: Topic1).</p></li>
<li><p><strong>blue</strong> (<em>string</em>) – The name of the column indicating the topic to assign to blue (default: Topic2).</p></li>
<li><p><strong>single_topic</strong> (<em>string</em>) – The name of the column indicating the topic to use (default: Topic0).</p></li>
<li><p><strong>tiles</strong> (<em>string</em>) – The tiles to use for the map (default: <cite>OpenStreetMap</cite>).</p></li>
<li><p><strong>width</strong> (<em>integer</em><em> or </em><em>percentage</em>) – Width of the map in pixels or percentage (default: 100%).</p></li>
<li><p><strong>height</strong> (<em>integer</em><em> or </em><em>percentage</em>) – Height of the map in pixels or percentage (default: 100%).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A Folium Map object displaying the given clusters colored by their topics.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="loci.plots.map_geometries">
<code class="sig-prename descclassname">loci.plots.</code><code class="sig-name descname">map_geometries</code><span class="sig-paren">(</span><em class="sig-param">gdf</em>, <em class="sig-param">tiles='OpenStreetMap'</em>, <em class="sig-param">width='100%'</em>, <em class="sig-param">height='100%'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/loci/plots.html#map_geometries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#loci.plots.map_geometries" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a Folium Map displaying the provided geometries. Map center and zoom level are set automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gdf</strong> (<em>GeoDataFrame</em>) – A GeoDataFrame containing the geometries to be displayed.</p></li>
<li><p><strong>tiles</strong> (<em>string</em>) – The tiles to use for the map (default: <cite>OpenStreetMap</cite>).</p></li>
<li><p><strong>width</strong> (<em>integer</em><em> or </em><em>percentage</em>) – Width of the map in pixels or percentage (default: 100%).</p></li>
<li><p><strong>height</strong> (<em>integer</em><em> or </em><em>percentage</em>) – Height of the map in pixels or percentage (default: 100%).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A Folium Map object displaying the given geometries.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="loci.plots.map_geometry">
<code class="sig-prename descclassname">loci.plots.</code><code class="sig-name descname">map_geometry</code><span class="sig-paren">(</span><em class="sig-param">geom</em>, <em class="sig-param">tiles='OpenStreetMap'</em>, <em class="sig-param">width='100%'</em>, <em class="sig-param">height='100%'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/loci/plots.html#map_geometry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#loci.plots.map_geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a Folium Map displaying the provided geometry. Map center and zoom level are set automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>geom</strong> (<em>Shapely Geometry</em>) – A geometry to be displayed.</p></li>
<li><p><strong>tiles</strong> (<em>string</em>) – The tiles to use for the map (default: <cite>OpenStreetMap</cite>).</p></li>
<li><p><strong>width</strong> (<em>integer</em><em> or </em><em>percentage</em>) – Width of the map in pixels or percentage (default: 100%).</p></li>
<li><p><strong>height</strong> (<em>integer</em><em> or </em><em>percentage</em>) – Height of the map in pixels or percentage (default: 100%).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A Folium Map object displaying the given geometry.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="loci.plots.map_points">
<code class="sig-prename descclassname">loci.plots.</code><code class="sig-name descname">map_points</code><span class="sig-paren">(</span><em class="sig-param">pois</em>, <em class="sig-param">tiles='OpenStreetMap'</em>, <em class="sig-param">width='100%'</em>, <em class="sig-param">height='100%'</em>, <em class="sig-param">show_bbox=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/loci/plots.html#map_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#loci.plots.map_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a Folium Map displaying the provided points. Map center and zoom level are set automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pois</strong> (<em>GeoDataFrame</em>) – A GeoDataFrame containing the POIs to be displayed.</p></li>
<li><p><strong>tiles</strong> (<em>string</em>) – The tiles to use for the map (default: <cite>OpenStreetMap</cite>).</p></li>
<li><p><strong>width</strong> (<em>integer</em><em> or </em><em>percentage</em>) – Width of the map in pixels or percentage (default: 100%).</p></li>
<li><p><strong>height</strong> (<em>integer</em><em> or </em><em>percentage</em>) – Height of the map in pixels or percentage (default: 100%).</p></li>
<li><p><strong>show_bbox</strong> (<em>bool</em>) – Whether to show the bounding box of the GeoDataFrame (default: False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A Folium Map object displaying the given POIs.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="loci.plots.plot_wordcloud">
<code class="sig-prename descclassname">loci.plots.</code><code class="sig-name descname">plot_wordcloud</code><span class="sig-paren">(</span><em class="sig-param">pois</em>, <em class="sig-param">bg_color='black'</em>, <em class="sig-param">width=400</em>, <em class="sig-param">height=200</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/loci/plots.html#plot_wordcloud"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#loci.plots.plot_wordcloud" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates and plots a word cloud from the keywords of the given POIs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pois</strong> (<em>GeoDataFrame</em>) – The POIs from which the keywords will be used to generate the word cloud.</p></li>
<li><p><strong>bg_color</strong> (<em>string</em>) – The background color to use for the plot (default: black).</p></li>
<li><p><strong>width</strong> (<em>int</em>) – The width of the plot.</p></li>
<li><p><strong>height</strong> (<em>int</em>) – The height of the plot.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-loci">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-loci" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Panagiotis Kalampokis, Dimitris Skoutas

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>